<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Schedule Story</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/styles.css">
    <style>
        html {
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        /* Fixed map background */
        #map-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        #map-container.dimmed {
            opacity: 0.3;
        }

        /* Story sections container */
        .story-sections {
            position: relative;
            z-index: 2;
        }

        /* Section 1: Hero */
        .section-hero {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.1), rgba(0,0,0,0.3));
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        .story-content {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
            max-width: 800px;
            padding: 40px;
        }

        .story-title {
            font-size: 4.5em;
            font-weight: 700;
            margin-bottom: 20px;
            letter-spacing: -1px;
            animation: fadeInUp 1s ease-out;
        }

        .story-subtitle {
            font-size: 1.4em;
            font-weight: 300;
            margin-bottom: 30px;
            opacity: 0.9;
            line-height: 1.6;
            animation: fadeInUp 1.2s ease-out;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            animation: bounce 2s infinite;
        }

        .scroll-indicator::after {
            content: 'â†“';
            display: block;
            font-size: 2em;
            margin-top: 10px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(10px);
            }
        }

        /* Section 2: Dataset Introduction */
        .section-dataset {
            position: relative;
            width: 100vw;
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 80px 40px;
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }

        .dataset-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 50px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-size: 2.5em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .section-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: #34495e;
            margin-bottom: 30px;
        }

        .data-sample {
            margin-top: 30px;
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .data-table thead {
            background: #3498db;
            color: white;
        }

        .data-table th {
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
            color: #2c3e50;
        }

        .data-table tbody tr:hover {
            background: #f8f9fa;
        }

        .data-table tbody tr:last-child td {
            border-bottom: none;
        }

        .data-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: #3498db;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Disable all map interactions */
        .leaflet-container {
            cursor: default !important;
        }

        .leaflet-control-container {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Fixed map background -->
    <div id="map-container"></div>
    
    <!-- Story sections -->
    <div class="story-sections">
        <!-- Section 1: Hero -->
        <section class="section-hero">
            <div class="story-content">
                <h1 class="story-title">Classroom Allocator</h1>
                <p class="story-subtitle">Exploring classroom utilization and allocation across campus to understand space optimization opportunities.</p>
            </div>
            <div class="scroll-indicator">Scroll to explore</div>
        </section>

        <!-- Section 2: Dataset Introduction -->
        <section class="section-dataset" id="dataset-section">
            <div class="dataset-panel">
                <h2 class="section-title">The Dataset</h2>
                <p class="section-text">
                    Our analysis is based on the Fall 2025 course schedule data, which contains detailed information about every class meeting across campus. This dataset includes course codes, titles, meeting times, locations, and enrollment information.
                </p>
                <p class="section-text">
                    Each record represents a single class meeting on a specific day, allowing us to analyze classroom usage patterns throughout the week.
                </p>
                
                <div class="data-stats" id="data-stats">
                    <div class="stat-box">
                        <div class="stat-number" id="stat-courses">-</div>
                        <div class="stat-label">Course Meetings</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="stat-buildings">-</div>
                        <div class="stat-label">Buildings</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="stat-classrooms">-</div>
                        <div class="stat-label">Classrooms</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="stat-courses-unique">-</div>
                        <div class="stat-label">Unique Courses</div>
                    </div>
                </div>

                <div class="data-sample">
                    <h3 style="font-size: 1.3em; color: #2c3e50; margin-bottom: 15px;">Sample Data</h3>
                    <table class="data-table" id="sample-data-table">
                        <thead>
                            <tr>
                                <th>Course</th>
                                <th>Title</th>
                                <th>Building</th>
                                <th>Room</th>
                                <th>Day</th>
                                <th>Time</th>
                                <th>Enrollment</th>
                            </tr>
                        </thead>
                        <tbody id="sample-data-body">
                            <!-- Will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/config.js"></script>
    <script src="js/app-story.js"></script>
</body>
</html>

